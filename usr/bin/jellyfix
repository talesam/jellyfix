#!/bin/bash
# Wrapper para executar jellyfix

# Detecta o diretório de instalação
# Procura primeiro em site-packages do Python (versão mais recente para mais antiga)
# Depois fallback para /usr/share/jellyfix ou diretório local
for i in /usr/lib/python3.{25..6}/site-packages/jellyfix /usr/share/jellyfix; do
    if [[ -e "$i" ]]; then
        JELLYFIX_DIR="$i"
        break
    fi
done

# Se não encontrou, tenta o diretório local (desenvolvimento)
if [[ -z "$JELLYFIX_DIR" ]]; then
    SCRIPT_DIR="$(dirname "$(readlink -f "$0")")"
    JELLYFIX_DIR="$SCRIPT_DIR/../share/jellyfix"
fi

# Executa o main.py usando Python do sistema
exec python3 "$JELLYFIX_DIR/main.py" "$@"
